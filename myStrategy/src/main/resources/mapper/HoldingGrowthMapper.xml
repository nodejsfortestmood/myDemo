<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.strategy.mapper.HoldingGrowthMapper">
    <insert id="batchInsert" parameterType="java.util.List">
        INSERT INTO holding_growth (
        stock_code,
        stock_name,
        entry_date,
        entry_price,
        platform_start_date,
        platform_start_price,
        platform_end_date,
        platform_end_price,
        exit_date,
        exit_price,
        holding_days,
        growth_rate,
        created_at,
        updated_at
        ) VALUES
        <foreach collection="list" item="item" separator=",">
            (
            #{item.stockCode},
            #{item.stockName},
            #{item.entryDate},
            #{item.entryPrice},
            #{item.platformStartDate},
            #{item.platformStartPrice},
            #{item.platformEndDate},
            #{item.platformEndPrice},
            #{item.exitDate},
            #{item.exitPrice},
            #{item.holdingDays},
            #{item.growthRate},
            NOW(),
            NOW()
            )
        </foreach>
    </insert>
    <delete id="delData">
        delete from holding_growth where 1=1
    </delete>
</mapper>